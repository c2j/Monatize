# 🚨 文档修改指引：升级为AI核心MCP架构

## 📋 修改状态检查

### ✅ 已完成修改
- [x] **README.md** - 已更新为AI核心MCP思路
- [x] **architecture.md** - 已重写为三层架构
- [x] **ai_core_mcp_architecture.md** - 新建详细架构文档

### 🔄 需要修改的文档
- [ ] **roadmap.md** - 需要重写为MCP实施路线
- [ ] **phase-0.md** - 需要调整为AI+MCP基础框架
- [ ] **phase-1.md** - 需要调整为MCP工具生态
- [ ] **phase-2.md** - 需要调整为AI学习与记忆
- [ ] **phase-3.md** - 需要调整为多模态交互
- [ ] **phase-4.md** - 需要调整为完整系统交付

---

## 🆕 新路线图（AI核心MCP系统）

### Phase 0 (周1-8): AI+MCP基础框架
**目标**：建立AI大脑和基础MCP工具

| 周 | 任务 | 交付物 |
|----|------|--------|
| 1-2 | ai-core-brain（AI大脑核心） | 意图解析器、世界模型、规划引擎 |
| 3-4 | mcp-protocol（协议实现） | 简化版MCP协议、工具注册表 |
| 5-6 | 基础MCP工具开发 | 摄像头、麦克风、文件系统、WebAPI工具 |
| 7-8 | 浏览器画布整合 | 动态界面生成、AI思维可视化 |

**Demo场景**：
- 用户："帮我拍个照"
- AI理解 → 调用摄像头工具 → 显示结果

### Phase 1 (周9-16): MCP工具生态
**目标**：扩展MCP工具生态，支持智能家居等

| 周 | 任务 | 交付物 |
|----|------|--------|
| 9-11 | 智能家居工具 | 灯光、空调、门锁控制 |
| 11-13 | IoT设备集成 | 传感器、电器、自动化场景 |
| 13-15 | 企业系统工具 | CRM、ERP、OA系统接入 |
| 15-16 | 工具协调优化 | 并发执行、错误恢复、性能优化 |

**Demo场景**：
- 用户："帮我看看家里情况"
- AI调用摄像头+传感器 → 生成安全报告

### Phase 2 (周17-26): AI学习与记忆
**目标**：AI从交互中学习，优化执行策略

| 周 | 任务 | 交付物 |
|----|------|--------|
| 17-20 | 学习引擎 | 偏好学习、模式提取、策略优化 |
| 20-22 | 世界模型完善 | 设备状态跟踪、环境感知 |
| 22-24 | 个性化适配 | 用户习惯学习、主动服务 |
| 24-26 | 安全与隐私 | 本地AI优先、权限管理、审计 |

**Demo场景**：
- 用户："有点热"
- AI自动开启空调（学习用户习惯）

### Phase 3 (周27-34): 多模态交互
**目标**：语音、图像、手势等自然交互

| 周 | 任务 | 交付物 |
|----|------|--------|
| 27-29 | 语音交互 | ASR、TTS、语音命令 |
| 29-31 | 视觉理解 | 图像识别、场景分析、物体检测 |
| 31-33 | 手势控制 | 摄像头手势识别、动作映射 |
| 33-34 | 多模态融合 | 语音+视觉+文本综合理解 |

**Demo场景**：
- 用户：（语音）"帮我关灯"
- AI识别语音+手势 → 执行关灯操作

### Phase 4 (周35-40): 完整系统交付
**目标**：产品化交付、生态建设

| 周 | 任务 | 交付物 |
|----|------|--------|
| 35-37 | 性能优化 | 响应速度、稳定性、兼容性 |
| 37-38 | MCP SDK | 开发者工具、文档、示例 |
| 38-39 | 用户体验 | 新手引导、错误处理、UI优化 |
| 39-40 | 产品发布 | 安装包、更新机制、用户手册 |

**Demo场景**：
- 完整工作流："明天会议准备"
- AI自动完成：查日程→调资料→生成议程→发送提醒→准备环境

---

## 🔑 关键转变

### 从"浏览器增强"到"MCP系统"

| 维度 | 旧思路 | 新思路 |
|------|--------|--------|
| **核心** | AI原生浏览器 | AI核心MCP系统 |
| **主角** | 浏览器是主体 | AI是绝对主角 |
| **能力** | 页面操作 | 物理世界交互 |
| **工具** | DOM操作 | MCP工具（摄像头、IoT等） |
| **界面** | 网页展示 | AI思维可视化 |
| **交互** | 填表、搜索、对比 | 拍照、开灯、控制家电 |

---

## ⚡ 快速修改建议

由于时间和篇幅限制，建议按以下优先级修改：

### 高优先级（立即修改）
1. **roadmap.md** - 重写为MCP路线图
2. **phase-0.md** - 改为AI大脑+MCP协议基础

### 中优先级（后续修改）
3. **phase-1.md** - 改为MCP工具生态
4. **phase-2.md** - 改为AI学习系统

### 低优先级（最后完善）
5. **phase-3.md** - 改为多模态交互
6. **phase-4.md** - 改为产品交付

---

## 📝 phase-*.md 修改要点

### phase-0.md 关键改动
- **移除**：ai-page-parse（页面解析）
- **移除**：ai-intent（简单意图识别）
- **新增**：ai-core-brain（AI大脑核心）
- **新增**：mcp-protocol（MCP协议）
- **新增**：基础MCP工具（摄像头、麦克风等）

### phase-1.md 关键改动
- **移除**：ai-action（DOM操作）
- **移除**：ai-dom（DOM操作）
- **新增**：智能家居工具
- **新增**：IoT设备集成
- **新增**：企业系统工具

### phase-2.md 关键改动
- **保留**：ai-memory（记忆系统）
- **保留**：个性化推荐
- **调整**：知识图谱 → 世界模型
- **调整**：上下文理解 → 环境感知

### phase-3.md 关键改动
- **移除**：ai-renderer（语义渲染）
- **保留**：多模态支持
- **新增**：语音交互（ASR/TTS）
- **新增**：视觉理解
- **新增**：手势控制

### phase-4.md 关键改动
- **调整**：性能优化 → 系统优化
- **调整**：生态完善 → MCP SDK开发
- **新增**：开发者工具

---

## 🎯 核心不变要素

虽然架构视角改变，但以下元素保持不变：
- ✅ 40周总工期
- ✅ 8-10人团队
- ✅ 330万预算
- ✅ Rust开发语言
- ✅ 安全与隐私要求
- ✅ 性能指标要求

---

## 🚀 实施建议

1. **立即启动Phase 0** - 先建立最小可用版本
2. **优先简化MCP** - 不要追求完整协议，先实现核心功能
3. **从摄像头切入** - 视觉是最直观的感知能力
4. **重视权限管理** - 物理设备访问需要严格权限控制
5. **持续原型验证** - 每两周一个Demo，快速迭代

---

**注意**：此文档为修改指引，实际roadmap.md和phase-*.md需要基于此指引进行完整重写。

**建议**：优先完成roadmap.md重写，然后逐个修改phase文档，确保整个设计文档体系的一致性。
